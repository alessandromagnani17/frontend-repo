{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"profile\"\n};\nconst _hoisted_2 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_3 = {\n  class: \"user-info\"\n};\nconst _hoisted_4 = {\n  class: \"user-item\"\n};\nconst _hoisted_5 = {\n  class: \"user-item\"\n};\nconst _hoisted_6 = {\n  class: \"user-item\"\n};\nconst _hoisted_7 = {\n  class: \"user-item\"\n};\nconst _hoisted_8 = {\n  class: \"user-item\"\n};\nconst _hoisted_9 = {\n  class: \"user-item\"\n};\nconst _hoisted_10 = {\n  class: \"user-item\"\n};\nconst _hoisted_11 = {\n  class: \"user-item\"\n};\nconst _hoisted_12 = {\n  class: \"user-item\"\n};\nconst _hoisted_13 = {\n  class: \"user-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[20] || (_cache[20] = _createElementVNode(\"h2\", {\n    class: \"mb-4\"\n  }, \"Benvenuto nel tuo Profilo!\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"p\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"strong\", null, \"Nome:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.userData.name), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.editField('name'))\n  }, \" Modifica \")]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"p\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"strong\", null, \"Cognome:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.userData.family_name), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.editField('family_name'))\n  }, \" Modifica \")]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"p\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"strong\", null, \"Username:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.userData.username), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.editField('username'))\n  }, \" Modifica \")]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"p\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"strong\", null, \"Email:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.userData.email), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.editField('email'))\n  }, \" Modifica \")]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"p\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"strong\", null, \"Data di Nascita:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.userData.birthdate), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.editField('birthdate'))\n  }, \" Modifica \")]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"p\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"strong\", null, \"Telefono:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.userData.phone_number), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[5] || (_cache[5] = $event => $options.editField('phone_number'))\n  }, \" Modifica \")]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"p\", null, [_cache[16] || (_cache[16] = _createElementVNode(\"strong\", null, \"Indirizzo:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.userData.address), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[6] || (_cache[6] = $event => $options.editField('address'))\n  }, \" Modifica \")]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"p\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"strong\", null, \"CAP:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.userData.cap_code), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[7] || (_cache[7] = $event => $options.editField('cap_code'))\n  }, \" Modifica \")]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"p\", null, [_cache[18] || (_cache[18] = _createElementVNode(\"strong\", null, \"Genere:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.userData.gender), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[8] || (_cache[8] = $event => $options.editField('gender'))\n  }, \" Modifica \")]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"p\", null, [_cache[19] || (_cache[19] = _createElementVNode(\"strong\", null, \"Codice Fiscale:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($data.userData.tax_code), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[9] || (_cache[9] = $event => $options.editField('tax_code'))\n  }, \" Modifica \")])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createTextVNode","_toDisplayString","$data","userData","name","onClick","_cache","$event","$options","editField","_hoisted_5","family_name","_hoisted_6","username","_hoisted_7","email","_hoisted_8","birthdate","_hoisted_9","phone_number","_hoisted_10","address","_hoisted_11","cap_code","_hoisted_12","gender","_hoisted_13","tax_code"],"sources":["/Users/alessandromagnani/Desktop/Università/applicazioni-e-servizi-web/osteoarthritis-project/frontend/src/views/ProfilePage.vue"],"sourcesContent":["<template>\n  <div class=\"profile\">\n    <div class=\"container mt-5\">\n      <h2 class=\"mb-4\">Benvenuto nel tuo Profilo!</h2>\n      <div class=\"user-info\">\n        <div class=\"user-item\">\n          <p><strong>Nome:</strong> {{ userData.name }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('name')\">\n            Modifica\n          </button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Cognome:</strong> {{ userData.family_name }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('family_name')\">\n            Modifica\n          </button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Username:</strong> {{ userData.username }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('username')\">\n            Modifica\n          </button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Email:</strong> {{ userData.email }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('email')\">\n            Modifica\n          </button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Data di Nascita:</strong> {{ userData.birthdate }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('birthdate')\">\n            Modifica\n          </button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Telefono:</strong> {{ userData.phone_number }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('phone_number')\">\n            Modifica\n          </button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Indirizzo:</strong> {{ userData.address }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('address')\">\n            Modifica\n          </button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>CAP:</strong> {{ userData.cap_code }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('cap_code')\">\n            Modifica\n          </button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Genere:</strong> {{ userData.gender }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('gender')\">\n            Modifica\n          </button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Codice Fiscale:</strong> {{ userData.tax_code }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('tax_code')\">\n            Modifica\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ProfilePage\",\n  data() {\n    return {\n      userData: {},\n    };\n  },\n  mounted() {\n    this.loadUserData();\n  },\n  methods: {\n    loadUserData() {\n      const userData = JSON.parse(localStorage.getItem(\"userData\"));\n      const userId = userData.userId;\n      console.log(\"Loading user data for ID:\", userId); // Aggiungi questo log per il debug\n      if (!userId) {\n        console.error(\"ID utente non definito\");\n        return; // Esci dalla funzione se l'ID non è definito\n      }\n\n      fetch(`http://localhost:5000/get_user/${userId}`)\n        .then((response) => {\n          if (!response.ok)\n            throw new Error(\"Errore nel recupero dei dati utente\");\n          return response.json();\n        })\n        .then((data) => {\n          this.userData = data; // Aggiorna i dati dell'utente nella tua vista\n        })\n        .catch((error) => {\n          console.error(\"Errore:\", error);\n          alert(\n            \"Si è verificato un errore durante il caricamento dei dati utente.\"\n          );\n        });\n    },\n    editField(field) {\n      const newValue = prompt(\n        `Inserisci il nuovo valore per ${field}:`,\n        this.userData[field]\n      );\n      if (newValue) {\n        this.userData[field] = newValue; // Aggiorna localmente\n        this.updateUserDataInFirebase(field, newValue);\n      }\n    },\n    updateUserDataInFirebase(field, value) {\n      const userData = JSON.parse(localStorage.getItem(\"userData\"));\n      const userId = userData.userId; // Assicurati che tu abbia l'ID utente\n      console.log(\"User ID:\", userId); // Aggiungi questo log per il debug\n      if (!userId) {\n        console.error(\"ID utente non definito\");\n        alert(\"Si è verificato un errore, l'ID utente non è disponibile.\");\n        return; // Esci dalla funzione se l'ID non è definito\n      }\n\n      fetch(\"http://localhost:5000/update_user\", {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ userId, [field]: value }),\n      })\n        .then((response) => {\n          if (!response.ok) throw new Error(\"Errore nel salvataggio dei dati\");\n\n          alert(\"Informazione aggiornata con successo!\");\n          this.loadUserData(); // Ricarica i dati utente per visualizzare l'aggiornamento\n        })\n        .catch((error) => {\n          console.error(\"Errore:\", error);\n          alert(\"Si è verificato un errore durante l'aggiornamento.\");\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  max-width: 600px;\n  padding: 40px;\n  border-radius: 15px;\n  background: #ffffff;\n  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1); /* Ombra leggera */\n  margin-top: 100px;\n  height: auto;\n  text-align: left; /* Allinea il testo a sinistra */\n}\n\nh2 {\n  font-size: 20px;\n  margin-bottom: 20px;\n}\n\n.user-info {\n  font-size: 14px;\n  line-height: 1.5;\n}\n\n.user-item {\n  display: flex;\n  align-items: center; /* Allinea il testo e il pulsante */\n  justify-content: space-between; /* Spazio tra il testo e il pulsante */\n  margin-bottom: 15px; /* Spaziatura tra le righe */\n}\n\n.btn-primary {\n  background-color: #007bff; /* Colore blu */\n  border: none; /* Rimuove il bordo */\n  color: white; /* Testo bianco */\n  padding: 8px 12px; /* Padding per il pulsante */\n  border-radius: 5px; /* Angoli arrotondati */\n  cursor: pointer; /* Cambia il cursore */\n}\n\n.btn-primary:hover {\n  background-color: #0056b3; /* Colore blu scuro al passaggio del mouse */\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}