{"ast":null,"code":"export default {\n  name: \"ProfilePage\",\n  data() {\n    return {\n      userData: {}\n    };\n  },\n  mounted() {\n    this.loadUserData();\n  },\n  methods: {\n    loadUserData() {\n      const userData = JSON.parse(localStorage.getItem(\"userData\"));\n      if (userData) {\n        this.userData = userData; // Carica i dati dell'utente\n      }\n    },\n    editField(field) {\n      const newValue = prompt(`Inserisci il nuovo valore per ${field}:`, this.userData[field]);\n      if (newValue) {\n        this.userData[field] = newValue; // Aggiorna localmente\n        this.updateUserDataInFirebase(field, newValue);\n      }\n    },\n    updateUserDataInFirebase(field, value) {\n      const userId = this.userData.id; // Supponendo che tu abbia un ID utente\n      fetch(`https://your-firebase-url/users/${userId}`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          [field]: value\n        })\n      }).then(response => {\n        if (!response.ok) throw new Error('Errore nel salvataggio dei dati');\n        alert('Informazione aggiornata con successo!');\n      }).catch(error => {\n        console.error('Errore:', error);\n        alert('Si è verificato un errore durante l\\'aggiornamento.');\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","userData","mounted","loadUserData","methods","JSON","parse","localStorage","getItem","editField","field","newValue","prompt","updateUserDataInFirebase","value","userId","id","fetch","method","headers","body","stringify","then","response","ok","Error","alert","catch","error","console"],"sources":["/Users/alessandromagnani/Desktop/Università/applicazioni-e-servizi-web/osteoarthritis-project/frontend/src/views/ProfilePage.vue"],"sourcesContent":["<template>\n  <div class=\"profile\">\n    <div class=\"container mt-5\">\n      <h2 class=\"mb-4\">Benvenuto nel tuo Profilo!</h2>\n      <div class=\"user-info\">\n        <div class=\"user-item\">\n          <p><strong>Nome:</strong> {{ userData.name }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('name')\">Modifica</button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Cognome:</strong> {{ userData.family_name }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('family_name')\">Modifica</button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Username:</strong> {{ userData.username }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('username')\">Modifica</button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Email:</strong> {{ userData.email }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('email')\">Modifica</button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Data di Nascita:</strong> {{ userData.birthdate }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('birthdate')\">Modifica</button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Telefono:</strong> {{ userData.phone_number }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('phone_number')\">Modifica</button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Indirizzo:</strong> {{ userData.address }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('address')\">Modifica</button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>CAP:</strong> {{ userData.cap_code }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('cap_code')\">Modifica</button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Genere:</strong> {{ userData.gender }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('gender')\">Modifica</button>\n        </div>\n        <div class=\"user-item\">\n          <p><strong>Codice Fiscale:</strong> {{ userData.tax_code }}</p>\n          <button class=\"btn btn-primary\" @click=\"editField('tax_code')\">Modifica</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ProfilePage\",\n  data() {\n    return {\n      userData: {},\n    };\n  },\n  mounted() {\n    this.loadUserData();\n  },\n  methods: {\n    loadUserData() {\n      const userData = JSON.parse(localStorage.getItem(\"userData\"));\n      if (userData) {\n        this.userData = userData; // Carica i dati dell'utente\n      }\n    },\n    editField(field) {\n      const newValue = prompt(`Inserisci il nuovo valore per ${field}:`, this.userData[field]);\n      if (newValue) {\n        this.userData[field] = newValue; // Aggiorna localmente\n        this.updateUserDataInFirebase(field, newValue);\n      }\n    },\n    updateUserDataInFirebase(field, value) {\n      const userId = this.userData.id; // Supponendo che tu abbia un ID utente\n      fetch(`https://your-firebase-url/users/${userId}`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ [field]: value }),\n      })\n      .then(response => {\n        if (!response.ok) throw new Error('Errore nel salvataggio dei dati');\n        alert('Informazione aggiornata con successo!');\n      })\n      .catch(error => {\n        console.error('Errore:', error);\n        alert('Si è verificato un errore durante l\\'aggiornamento.');\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  max-width: 600px;\n  padding: 40px;\n  border-radius: 15px;\n  background: #ffffff;\n  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1); /* Ombra leggera */\n  margin-top: 100px;\n  height: auto;\n  text-align: left; /* Allinea il testo a sinistra */\n}\n\nh2 {\n  font-size: 20px; \n  margin-bottom: 20px;\n}\n\n.user-info {\n  font-size: 14px; \n  line-height: 1.5; \n}\n\n.user-item {\n  display: flex;\n  align-items: center; /* Allinea il testo e il pulsante */\n  justify-content: space-between; /* Spazio tra il testo e il pulsante */\n  margin-bottom: 15px; /* Spaziatura tra le righe */\n}\n\n.btn-primary {\n  background-color: #007bff; /* Colore blu */\n  border: none; /* Rimuove il bordo */\n  color: white; /* Testo bianco */\n  padding: 8px 12px; /* Padding per il pulsante */\n  border-radius: 5px; /* Angoli arrotondati */\n  cursor: pointer; /* Cambia il cursore */\n}\n\n.btn-primary:hover {\n  background-color: #0056b3; /* Colore blu scuro al passaggio del mouse */\n}\n</style>\n"],"mappings":"AAmDA,eAAe;EACbA,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,CAAC;IACb,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACPD,YAAYA,CAAA,EAAG;MACb,MAAMF,QAAO,GAAII,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;MAC7D,IAAIP,QAAQ,EAAE;QACZ,IAAI,CAACA,QAAO,GAAIA,QAAQ,EAAE;MAC5B;IACF,CAAC;IACDQ,SAASA,CAACC,KAAK,EAAE;MACf,MAAMC,QAAO,GAAIC,MAAM,CAAC,iCAAiCF,KAAK,GAAG,EAAE,IAAI,CAACT,QAAQ,CAACS,KAAK,CAAC,CAAC;MACxF,IAAIC,QAAQ,EAAE;QACZ,IAAI,CAACV,QAAQ,CAACS,KAAK,IAAIC,QAAQ,EAAE;QACjC,IAAI,CAACE,wBAAwB,CAACH,KAAK,EAAEC,QAAQ,CAAC;MAChD;IACF,CAAC;IACDE,wBAAwBA,CAACH,KAAK,EAAEI,KAAK,EAAE;MACrC,MAAMC,MAAK,GAAI,IAAI,CAACd,QAAQ,CAACe,EAAE,EAAE;MACjCC,KAAK,CAAC,mCAAmCF,MAAM,EAAE,EAAE;QACjDG,MAAM,EAAE,OAAO;QACfC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEf,IAAI,CAACgB,SAAS,CAAC;UAAE,CAACX,KAAK,GAAGI;QAAM,CAAC;MACzC,CAAC,EACAQ,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,iCAAiC,CAAC;QACpEC,KAAK,CAAC,uCAAuC,CAAC;MAChD,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/BF,KAAK,CAAC,qDAAqD,CAAC;MAC9D,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}