{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-fda51896\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Dashboard Dottore\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PatientList = _resolveComponent(\"PatientList\");\n  const _component_UploadRadiograph = _resolveComponent(\"UploadRadiograph\");\n  const _component_PatientRadiographs = _resolveComponent(\"PatientRadiographs\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createCommentVNode(\" Lista dei pazienti \"), _createVNode(_component_PatientList, {\n    patients: $data.patients,\n    onSelectPatient: $options.selectPatient\n  }, null, 8 /* PROPS */, [\"patients\", \"onSelectPatient\"]), _createCommentVNode(\" Caricamento radiografie, visibile solo se un paziente è selezionato \"), $data.selectedPatient ? (_openBlock(), _createBlock(_component_UploadRadiograph, {\n    key: 0,\n    onUploadSuccess: $options.handleUploadSuccess,\n    patientId: $data.selectedPatient.id\n  }, null, 8 /* PROPS */, [\"onUploadSuccess\", \"patientId\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Visualizzazione delle radiografie del paziente selezionato \"), $data.selectedPatient ? (_openBlock(), _createBlock(_component_PatientRadiographs, {\n    key: 1,\n    radiographs: $data.selectedPatientRadiographs\n  }, null, 8 /* PROPS */, [\"radiographs\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","_component_PatientList","patients","$data","onSelectPatient","$options","selectPatient","selectedPatient","_createBlock","_component_UploadRadiograph","key","onUploadSuccess","handleUploadSuccess","patientId","id","_component_PatientRadiographs","radiographs","selectedPatientRadiographs"],"sources":["/Users/alessandromagnani/Desktop/Università/applicazioni-e-servizi-web/osteoarthritis-project/frontend/src/components/DoctorDashboard.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Dashboard Dottore</h1>\n    <!-- Lista dei pazienti -->\n    <PatientList :patients=\"patients\" @selectPatient=\"selectPatient\" />\n\n    <!-- Caricamento radiografie, visibile solo se un paziente è selezionato -->\n    <UploadRadiograph\n      v-if=\"selectedPatient\"\n      @uploadSuccess=\"handleUploadSuccess\"\n      :patientId=\"selectedPatient.id\"\n    />\n\n    <!-- Visualizzazione delle radiografie del paziente selezionato -->\n    <PatientRadiographs\n      :radiographs=\"selectedPatientRadiographs\"\n      v-if=\"selectedPatient\"\n    />\n  </div>\n</template>\n\n<script>\nimport PatientList from \"./PatientList.vue\";\nimport PatientRadiographs from \"./PatientRadiographs.vue\";\nimport UploadRadiograph from \"./UploadRadiographs.vue\";\n\nimport { getPatients, getRadiographs } from \"../services/api-service\"; // Assicurati che il percorso sia corretto\n\nexport default {\n  components: {\n    PatientList,\n    PatientRadiographs,\n    UploadRadiograph,\n  },\n  data() {\n    return {\n      patients: [], // Lista dei pazienti associati al dottore\n      selectedPatient: null, // Paziente selezionato\n      selectedPatientRadiographs: [], // Radiografie del paziente selezionato\n    };\n  },\n  async created() {\n    const doctorId = this.$store.state.user.id; // ID del dottore loggato tramite Vuex\n    this.patients = await getPatients(doctorId); // Utilizza la funzione corretta\n  },\n  methods: {\n    // Seleziona un paziente e ottieni le sue radiografie\n    async selectPatient(patient) {\n      this.selectedPatient = patient;\n      this.selectedPatientRadiographs = await getRadiographs(patient.id); // Utilizza la funzione corretta\n    },\n    // Aggiorna le radiografie dopo un caricamento riuscito\n    handleUploadSuccess() {\n      this.selectPatient(this.selectedPatient); // Ricarica le radiografie\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Puoi aggiungere qui il tuo stile personalizzato per la dashboard */\n</style>\n"],"mappings":";;gEAEIA,mBAAA,CAA0B,YAAtB,mBAAiB;;;;;uBADvBC,mBAAA,CAiBM,cAhBJC,UAA0B,EAC1BC,mBAAA,wBAA2B,EAC3BC,YAAA,CAAmEC,sBAAA;IAArDC,QAAQ,EAAEC,KAAA,CAAAD,QAAQ;IAAGE,eAAa,EAAEC,QAAA,CAAAC;4DAElDP,mBAAA,yEAA4E,EAEpEI,KAAA,CAAAI,eAAe,I,cADvBC,YAAA,CAIEC,2BAAA;IAXNC,GAAA;IASOC,eAAa,EAAEN,QAAA,CAAAO,mBAAmB;IAClCC,SAAS,EAAEV,KAAA,CAAAI,eAAe,CAACO;+DAVlCf,mBAAA,gBAaIA,mBAAA,gEAAmE,EAG3DI,KAAA,CAAAI,eAAe,I,cAFvBC,YAAA,CAGEO,6BAAA;IAjBNL,GAAA;IAeOM,WAAW,EAAEb,KAAA,CAAAc;8CAfpBlB,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}