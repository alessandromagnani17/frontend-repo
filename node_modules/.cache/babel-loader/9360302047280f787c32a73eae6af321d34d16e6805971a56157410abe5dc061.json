{"ast":null,"code":"import PatientList from \"./PatientList.vue\";\nimport PatientRadiographs from \"./PatientRadiographs.vue\";\nimport UploadRadiograph from \"./UploadRadiographs.vue\";\nimport { getPatients, getRadiographs } from \"../services/apiService\";\nexport default {\n  components: {\n    PatientList,\n    PatientRadiographs,\n    UploadRadiograph\n  },\n  data() {\n    return {\n      patients: [],\n      // Lista dei pazienti associati al dottore\n      selectedPatient: null,\n      // Paziente selezionato\n      selectedPatientRadiographs: [] // Radiografie del paziente selezionato\n    };\n  },\n  async created() {\n    const doctorId = this.$store.state.user.id; // ID del dottore loggato tramite Vuex\n    this.patients = await getPatientsByDoctor(doctorId); // Ottieni i pazienti associati\n  },\n  methods: {\n    // Seleziona un paziente e ottieni le sue radiografie\n    async selectPatient(patient) {\n      this.selectedPatient = patient;\n      this.selectedPatientRadiographs = await getRadiographsByPatient(patient.id);\n    },\n    // Aggiorna le radiografie dopo un caricamento riuscito\n    handleUploadSuccess() {\n      this.selectPatient(this.selectedPatient); // Ricarica le radiografie\n    }\n  }\n};","map":{"version":3,"names":["PatientList","PatientRadiographs","UploadRadiograph","getPatients","getRadiographs","components","data","patients","selectedPatient","selectedPatientRadiographs","created","doctorId","$store","state","user","id","getPatientsByDoctor","methods","selectPatient","patient","getRadiographsByPatient","handleUploadSuccess"],"sources":["/Users/alessandromagnani/Desktop/Università/applicazioni-e-servizi-web/osteoarthritis-project/frontend/src/components/DoctorDashboard.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Dashboard Dottore</h1>\n    <!-- Lista dei pazienti -->\n    <PatientList :patients=\"patients\" @selectPatient=\"selectPatient\" />\n\n    <!-- Caricamento radiografie, visibile solo se un paziente è selezionato -->\n    <UploadRadiograph\n      v-if=\"selectedPatient\"\n      @uploadSuccess=\"handleUploadSuccess\"\n      :patientId=\"selectedPatient.id\"\n    />\n\n    <!-- Visualizzazione delle radiografie del paziente selezionato -->\n    <PatientRadiographs\n      :radiographs=\"selectedPatientRadiographs\"\n      v-if=\"selectedPatient\"\n    />\n  </div>\n</template>\n\n<script>\nimport PatientList from \"./PatientList.vue\";\nimport PatientRadiographs from \"./PatientRadiographs.vue\";\nimport UploadRadiograph from \"./UploadRadiographs.vue\";\n\nimport {\n  getPatients, \n  getRadiographs,\n} from \"../services/apiService\"; \n\nexport default {\n  components: {\n    PatientList,\n    PatientRadiographs,\n    UploadRadiograph,\n  },\n  data() {\n    return {\n      patients: [], // Lista dei pazienti associati al dottore\n      selectedPatient: null, // Paziente selezionato\n      selectedPatientRadiographs: [], // Radiografie del paziente selezionato\n    };\n  },\n  async created() {\n    const doctorId = this.$store.state.user.id; // ID del dottore loggato tramite Vuex\n    this.patients = await getPatientsByDoctor(doctorId); // Ottieni i pazienti associati\n  },\n  methods: {\n    // Seleziona un paziente e ottieni le sue radiografie\n    async selectPatient(patient) {\n      this.selectedPatient = patient;\n      this.selectedPatientRadiographs = await getRadiographsByPatient(\n        patient.id\n      );\n    },\n    // Aggiorna le radiografie dopo un caricamento riuscito\n    handleUploadSuccess() {\n      this.selectPatient(this.selectedPatient); // Ricarica le radiografie\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Puoi aggiungere qui il tuo stile personalizzato per la dashboard */\n</style>\n"],"mappings":"AAsBA,OAAOA,WAAU,MAAO,mBAAmB;AAC3C,OAAOC,kBAAiB,MAAO,0BAA0B;AACzD,OAAOC,gBAAe,MAAO,yBAAyB;AAEtD,SACEC,WAAW,EACXC,cAAc,QACT,wBAAwB;AAE/B,eAAe;EACbC,UAAU,EAAE;IACVL,WAAW;IACXC,kBAAkB;IAClBC;EACF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MAAE;MACdC,eAAe,EAAE,IAAI;MAAE;MACvBC,0BAA0B,EAAE,EAAE,CAAE;IAClC,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAMC,QAAO,GAAI,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,IAAI,CAACC,EAAE,EAAE;IAC5C,IAAI,CAACR,QAAO,GAAI,MAAMS,mBAAmB,CAACL,QAAQ,CAAC,EAAE;EACvD,CAAC;EACDM,OAAO,EAAE;IACP;IACA,MAAMC,aAAaA,CAACC,OAAO,EAAE;MAC3B,IAAI,CAACX,eAAc,GAAIW,OAAO;MAC9B,IAAI,CAACV,0BAAyB,GAAI,MAAMW,uBAAuB,CAC7DD,OAAO,CAACJ,EACV,CAAC;IACH,CAAC;IACD;IACAM,mBAAmBA,CAAA,EAAG;MACpB,IAAI,CAACH,aAAa,CAAC,IAAI,CAACV,eAAe,CAAC,EAAE;IAC5C;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}